<!DOCTYPE html>
<html lang="es">
<head> 
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
    <script>
        var mascotas=[];
        class Clinica{
            constructor (nombre){
                this.nombre=nombre;
                this.mascotas=[];
            }
        }
        
            class Mascota{
                constructor (nombre, tipo, edad){ //el constructor se pone constructor delante
                    this.nombre=nombre;
                    this.edad=edad;
                    this.tipo=tipo;
                    this.baja=false;
                    this.vacunas=[]
                }
                   
                darbaja(bajab){
                    this.baja=true;
                }
               
            
                mostrarTodo() { //muestra todas las propiedades del objeto
                    
                    for (let elem in this) {
                        console.log(elem, " => ", this[elem]);
                    }
                }
                // en los metodos, el nombre del metodo directamente
            }
        
            function buscamascota(nomnumbrebuscar){ //buscar una mascota por nombre
                const found = mascotas.find(element => element.nombre === nomnumbrebuscar);
                console.log (mascotas);
                return found;
            }
        
            function altamascota(nombre,tipo,edad){ //opcion 1. alta
                var newnombre= prompt('nombre');
                var newtipo=prompt('tipo');
                var newedad=prompt('edad');
                const newmascota=new Mascota(newnombre,newedad,newtipo); //creo el objeto
                mascotas.push(newmascota); //lo a침ado al array
                console.table(mascotas);
                document.getElementById("mensajes").innerHTML='El '+newmascota.tipo+' llamado '+ newmascota.nombre+' de '+newmascota.edad+'de edad ha sido dado de alta';
            }
            
            function vacunar(){ //opcion 2. vacunar
                
                var nombrevacunar=prompt('nombre de la mascota a vacunar');
                mascotavacunar=buscamascota(nombrevacunar);
                console.log(mascotavacunar);
        
                fechavacuna=prompt('fecha de la vacuna');
                nombrevacuna=prompt('vacuna a poner');
                let nuevavacuna={fech_vacuna:fechavacuna, nom_vacuna:nombrevacuna};
                mascotavacunar._vacunas.push(nuevavacuna);
                console.log(mascotavacunar);
                
            }
        
            function darbaja(){ //opcion 3. baja
                var nombredebaja=prompt('nombre de la mascota a dar de baja');
                mascotabaja=buscamascota(nombredebaja);
                if (nombredebaja.baja){
                    document.getElementById("mensajes").innerHTML='El '+mascotabaja.tipo+' llamado '+ mascotabaja.nombre+' de '+mascotabaja.edad+' a침os ya est치 dado de baja';
                }else{
                    document.getElementById("mensajes").innerHTML='El '+mascotabaja.tipo+' llamado '+ mascotabaja.nombre+' de '+mascotabaja.edad+' a침os ha sido dado de baja';
                    mascotabaja.baja=true;
                }
                
            }
            
            mascotas=[
                    new Mascota('hera','perro',6),
                    new Mascota('gala','perro',7),
                    new Mascota('sella','gato',1),
                    new Mascota('coco','gato',2)
                ];
            </script>
            
</head>
<body>
    <div id="muestramenu">
        0.- Salir<br>
        1.- Altas<br>
        2.- Vacunar<br>
        3.- Bajas<br>
        <input type="number" name="opcion" id="opcion" max="3" min="0">
        <input value="escoger"  type="button" onclick = "menu()"><br>
    </div>
    <div id="mensajes"></div>

    <script>

        function menu(){  
            var opcion=document.getElementById('opcion').value;
            console.log(opcion);
            switch (opcion) {
                case 0:
                    document.write('Hasta otra');
                    break
                case "1":
                    altamascota();
                    break;
                case "2":
                    vacunar();
                    break;
                case "3":
                    darbaja();
                    break;
                default:
                    document.write('opcion no valida');
                    break;
            }    
        } 
        
    </script>

</body>
</html>
